# auto generated file. DO NOT EDIT manually
version: 0.2
env:
  shell: bash
  compute-type: BUILD_GENERAL1_MEDIUM
batch:
  fast-fail: false
  build-graph:
    - identifier: build_linux
      buildspec: codebuild_specs/build_linux.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
    - identifier: build_windows
      buildspec: codebuild_specs/build_windows.yml
      env:
        type: WINDOWS_SERVER_2019_CONTAINER
        compute-type: BUILD_GENERAL1_LARGE
        image: $WINDOWS_IMAGE_2019
    - identifier: test
      buildspec: codebuild_specs/test.yml
      env:
        compute-type: BUILD_GENERAL1_LARGE
      depend-on:
        - build_linux
    - identifier: mock_e2e_tests
      buildspec: codebuild_specs/mock_e2e_tests.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
      depend-on:
        - build_linux
    - identifier: verify_cdk_version
      buildspec: codebuild_specs/verify_cdk_version.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
      depend-on:
        - build_linux
    - identifier: verify_api_extract
      buildspec: codebuild_specs/verify_api_extract.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
      depend-on:
        - build_linux
    - identifier: verify_yarn_lock
      buildspec: codebuild_specs/verify_yarn_lock.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
      depend-on:
        - build_linux
    - identifier: publish_to_local_registry
      buildspec: codebuild_specs/publish_to_local_registry.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
      depend-on:
        - build_linux
    - identifier: schema_iterative_update_5
      buildspec: codebuild_specs/run_e2e_tests.yml
      env:
        compute-type: BUILD_GENERAL1_SMALL
        variables:
          TEST_SUITE: src/__tests__/schema-iterative-update-5.test.ts
          CLI_REGION: us-east-1
      depend-on:
        - publish_to_local_registry
      debug-session: true
    - identifier: >-
        MultiAuthModelAuthTransformer_IndexWithClaimFieldAsSortKeyAuth_ModelTransformer_MultiAuthV2Transformer
      buildspec: codebuild_specs/graphql_e2e_tests.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          TEST_SUITE: >-
            src/__tests__/MultiAuthModelAuthTransformer.e2e.test.ts|src/__tests__/IndexWithClaimFieldAsSortKeyAuth.e2e.test.ts|src/__tests__/ModelTransformer.e2e.test.ts|src/__tests__/MultiAuthV2Transformer.e2e.test.ts
          CLI_REGION: eu-west-2
      depend-on:
        - publish_to_local_registry
      debug-session: true
    - identifier: >-
        SearchableWithAuthTests_SearchableModelTransformer_SearchableWithAuthV2_SearchableWithAuthV2WithFF
      buildspec: codebuild_specs/graphql_e2e_tests.yml
      env:
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          TEST_SUITE: >-
            src/__tests__/SearchableWithAuthTests.e2e.test.ts|src/__tests__/SearchableModelTransformer.e2e.test.ts|src/__tests__/SearchableWithAuthV2.e2e.test.ts|src/__tests__/SearchableWithAuthV2WithFF.e2e.test.ts
          CLI_REGION: us-east-2
      depend-on:
        - publish_to_local_registry
      debug-session: true
    - identifier: HttpTransformer
      buildspec: codebuild_specs/graphql_e2e_tests.yml
      env:
        compute-type: BUILD_GENERAL1_SMALL
        variables:
          TEST_SUITE: src/__tests__/HttpTransformer.e2e.test.ts
          CLI_REGION: ap-southeast-1
      depend-on:
        - publish_to_local_registry
      debug-session: true
    - identifier: cleanup_e2e_resources
      buildspec: codebuild_specs/cleanup_e2e_resources.yml
      env:
        compute-type: BUILD_GENERAL1_SMALL
      depend-on:
        - schema_iterative_update_5
