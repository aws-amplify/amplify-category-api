version: 0.2
env:
  shell: powershell.exe
  variables:
    NODE_OPTIONS: --max-old-space-size=8096
phases:
  build:
    commands:
      - echo "Installing NVM"
      - .\codebuild_specs\scripts\Install-NVM.ps1
      - echo "Setting up Node Version"
      - .\codebuild_specs\scripts\Set-Node-Version.ps1
      - yarn run production-build
      - yarn build-tests
artifacts:
  files:
    - 'shared-scripts.sh'
