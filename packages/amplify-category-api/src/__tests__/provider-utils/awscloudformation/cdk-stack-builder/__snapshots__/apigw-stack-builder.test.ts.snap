// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`AmplifyApigwResourceStack addIamPolicyResourceForUserPoolGroup should generate correct IAM policies when {} is used in path 1`] = `
Object {
  "adminGroupbookisbnPolicy": Object {
    "Properties": Object {
      "PolicyDocument": Object {
        "Statement": Array [
          Object {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": Array [
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/book/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/book/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/book/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/book/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/book/*/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/book/*/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/book/*/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/book/*/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-bookisbn-admin-group-policy",
      "Roles": Array [
        Object {
          "Fn::Join": Array [
            "-",
            Array [
              Object {
                "Ref": "mockAuthRoleLogicalId",
              },
              "adminGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
  "adminGroupitemsidfoobarPolicy": Object {
    "Properties": Object {
      "PolicyDocument": Object {
        "Statement": Array [
          Object {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": Array [
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/items/*/foobar",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/items/*/foobar",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/items/*/foobar",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/items/*/foobar",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/items/*/foobar/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/items/*/foobar/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/items/*/foobar/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/items/*/foobar/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-itemsidfoobar-admin-group-policy",
      "Roles": Array [
        Object {
          "Fn::Join": Array [
            "-",
            Array [
              Object {
                "Ref": "mockAuthRoleLogicalId",
              },
              "adminGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
  "memberGroupbookisbnPolicy": Object {
    "Properties": Object {
      "PolicyDocument": Object {
        "Statement": Array [
          Object {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": Array [
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-bookisbn-member-group-policy",
      "Roles": Array [
        Object {
          "Fn::Join": Array [
            "-",
            Array [
              Object {
                "Ref": "mockAuthRoleLogicalId",
              },
              "memberGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
  "memberGroupitemsidfoobarPolicy": Object {
    "Properties": Object {
      "PolicyDocument": Object {
        "Statement": Array [
          Object {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": Array [
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar",
                  ],
                ],
              },
              Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:aws:execute-api:",
                    Object {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    Object {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    Object {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    Object {
                      "Fn::If": Array [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        Object {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-itemsidfoobar-member-group-policy",
      "Roles": Array [
        Object {
          "Fn::Join": Array [
            "-",
            Array [
              Object {
                "Ref": "mockAuthRoleLogicalId",
              },
              "memberGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
}
`;
