// Jest Snapshot v1, https://jestjs.io/docs/snapshot-testing

exports[`AmplifyApigwResourceStack addIamPolicyResourceForUserPoolGroup should generate correct IAM policies when {} is used in path 1`] = `
{
  "adminGroupbookisbnPolicy": {
    "Properties": {
      "PolicyDocument": {
        "Statement": [
          {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": [
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/book/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/book/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/book/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/book/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/book/*/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/book/*/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/book/*/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/book/*/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-bookisbn-admin-group-policy",
      "Roles": [
        {
          "Fn::Join": [
            "-",
            [
              {
                "Ref": "mockAuthRoleLogicalId",
              },
              "adminGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
  "adminGroupitemsidfoobarPolicy": {
    "Properties": {
      "PolicyDocument": {
        "Statement": [
          {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": [
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/items/*/foobar",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/items/*/foobar",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/items/*/foobar",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/items/*/foobar",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/POST/items/*/foobar/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PUT/items/*/foobar/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/PATCH/items/*/foobar/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/DELETE/items/*/foobar/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-itemsidfoobar-admin-group-policy",
      "Roles": [
        {
          "Fn::Join": [
            "-",
            [
              {
                "Ref": "mockAuthRoleLogicalId",
              },
              "adminGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
  "memberGroupbookisbnPolicy": {
    "Properties": {
      "PolicyDocument": {
        "Statement": [
          {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": [
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/book/*/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-bookisbn-member-group-policy",
      "Roles": [
        {
          "Fn::Join": [
            "-",
            [
              {
                "Ref": "mockAuthRoleLogicalId",
              },
              "memberGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
  "memberGroupitemsidfoobarPolicy": {
    "Properties": {
      "PolicyDocument": {
        "Statement": [
          {
            "Action": "execute-api:Invoke",
            "Effect": "Allow",
            "Resource": [
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar",
                  ],
                ],
              },
              {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:execute-api:",
                    {
                      "Ref": "AWS::Region",
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId",
                    },
                    ":",
                    {
                      "Ref": "mockRestAPIName",
                    },
                    "/",
                    {
                      "Fn::If": [
                        "ShouldNotCreateEnvResources",
                        "Prod",
                        {
                          "Ref": "env",
                        },
                      ],
                    },
                    "/GET/items/*/foobar/*",
                  ],
                ],
              },
            ],
          },
        ],
        "Version": "2012-10-17",
      },
      "PolicyName": "mockRestAPIName-itemsidfoobar-member-group-policy",
      "Roles": [
        {
          "Fn::Join": [
            "-",
            [
              {
                "Ref": "mockAuthRoleLogicalId",
              },
              "memberGroupRole",
            ],
          ],
        },
      ],
    },
    "Type": "AWS::IAM::Policy",
  },
}
`;
